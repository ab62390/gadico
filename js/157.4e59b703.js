"use strict";(self["webpackChunkGadico"]=self["webpackChunkGadico"]||[]).push([[157],{6157:(e,t,l)=>{l.r(t),l.d(t,{default:()=>x});var r=l(3673),o=l(2323);const a={class:"col-auto self-start q-pt-sm text-body2"},n={key:0,class:"col-auto self-end"},s=(0,r._)("div",{class:"col-12"},null,-1),u={class:"col-auto self-end q-pb-xl"};function i(e,t,l,i,d,c){const p=(0,r.up)("q-card-section"),m=(0,r.up)("q-card"),w=(0,r.up)("q-btn"),f=(0,r.up)("q-drawer"),k=(0,r.up)("Entrances"),v=(0,r.up)("router-view"),q=(0,r.up)("q-page-container"),_=(0,r.up)("q-layout");return(0,r.wg)(),(0,r.j4)(_,{view:"lHh Lpr lFf"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{modelValue:e.store._leLeftDrawer,"onUpdate:modelValue":t[1]||(t[1]=t=>e.store._leLeftDrawer=t),width:250,class:"row justify-center fit"},{default:(0,r.w5)((()=>[(0,r._)("div",a,[(0,r.Wm)(m,{class:"text-center",flat:""},{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>{var t;return[(0,r.Uk)((0,o.zw)(null===(t=e.store.user)||void 0===t?void 0:t.email),1)]})),_:1}),(0,r.Wm)(p,{class:"q-pt-none"},{default:(0,r.w5)((()=>{var t;return[(0,r.Uk)("[ "+(0,o.zw)(null===(t=e.store.user)||void 0===t?void 0:t.role)+" ]",1)]})),_:1}),(0,r.Wm)(p)])),_:1})]),e.isAdmin()?((0,r.wg)(),(0,r.iD)("div",n,[(0,r.Wm)(w,{label:"users","icon-right":"person",color:"primary",unelevated:"",onClick:t[0]||(t[0]=t=>e.$router.push("/users"))})])):(0,r.kq)("",!0),s,(0,r._)("div",u,[(0,r.Wm)(w,{label:"خروج","icon-right":"logout",color:"primary",unelevated:"",onClick:e.store.signout},null,8,["onClick"])])])),_:1},8,["modelValue"]),(0,r.Wm)(f,{modelValue:e.store._rightDrawer,"onUpdate:modelValue":t[2]||(t[2]=t=>e.store._rightDrawer=t),width:300,side:"right"},{default:(0,r.w5)((()=>[e.store._rightDrawer?((0,r.wg)(),(0,r.j4)(k,{key:0})):(0,r.kq)("",!0)])),_:1},8,["modelValue"]),(0,r.Wm)(q,null,{default:(0,r.w5)((()=>[(0,r.Wm)(v)])),_:1})])),_:1})}function d(e,t,l,a,n,s){const u=(0,r.up)("q-icon"),i=(0,r.up)("q-input"),d=(0,r.up)("q-toolbar"),c=(0,r.up)("q-separator"),p=(0,r.up)("q-item-label"),m=(0,r.up)("q-item-section"),w=(0,r.up)("q-item"),f=(0,r.up)("q-virtual-scroll");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{dir:"rtl",class:"full-width",modelValue:e.keyword,"onUpdate:modelValue":t[1]||(t[1]=t=>e.keyword=t),outlined:"",dense:""},{prepend:(0,r.w5)((()=>[""==e.keyword?((0,r.wg)(),(0,r.j4)(u,{key:0,name:"search"})):((0,r.wg)(),(0,r.j4)(u,{key:1,onClick:t[0]||(t[0]=t=>e.keyword=""),name:"close",class:"cursor-pointer"}))])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(c),(0,r.Wm)(f,{dir:"rtl",class:"q-pb-xl q-pr-sm",style:{height:"90vh"},items:e.data},{default:(0,r.w5)((({item:t})=>[((0,r.wg)(),(0,r.j4)(w,{key:t.id,clickable:"",dense:""},{default:(0,r.w5)((()=>[(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{onClick:l=>e.personId=t.id},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.n),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024))])),_:1},8,["items"])],64)}var c=l(1959),p=l(9443);const m=(0,r.aZ)({name:"Entrances",setup(){const e=(0,p.Z)(),t=(0,c.iH)(""),l=(0,r.Fl)({get:()=>e.personId,set:t=>e.personId=t}),o=(0,r.Fl)((()=>Object.values(e.people).map((e=>({id:e.id,n:e.n.replace(/,/g," ")}))).sort(((e,t)=>e.n>t.n?1:-1)))),a=(0,r.Fl)((()=>o.value.filter((e=>e.n.startsWith(t.value)))));return{keyword:t,personId:l,data:a}}});var w=l(4260),f=l(9570),k=l(1207),v=l(4554),q=l(5869),_=l(1362),g=l(3414),Z=l(2035),h=l(2350),y=l(7518),W=l.n(y);const b=(0,w.Z)(m,[["render",d]]),Q=b;W()(m,"components",{QToolbar:f.Z,QInput:k.Z,QIcon:v.Z,QSeparator:q.Z,QVirtualScroll:_.Z,QItem:g.Z,QItemSection:Z.Z,QItemLabel:h.Z});const C=(0,r.aZ)({name:"MainLayout",components:{Entrances:Q},setup(){const e=(0,p.Z)(),t=((0,c.iH)(!1),(0,c.iH)(!1),()=>{var t;return"admin"===(null===(t=e.user)||void 0===t?void 0:t.role)});return{store:e,isAdmin:t}}});var V=l(4899),I=l(5400),D=l(151),j=l(5589),L=l(6114),U=l(2652);const H=(0,w.Z)(C,[["render",i]]),x=H;W()(C,"components",{QLayout:V.Z,QDrawer:I.Z,QCard:D.Z,QCardSection:j.Z,QBtn:L.Z,QPageContainer:U.Z})}}]);